@using Compass.Site.Models
@using CompassSite.Database.Comparers
@using CompassSite.Database.Models
@model ProductsViewModel
<div class="container mb-3 mt-3 p-4">
   <div class="row">
      <div class="categories border col-3 ">
         <h1>Категории</h1>
         @foreach (Category category in Model.Categories)
         {
            <div class="row category-item w-100 ">
               <a asp-controller="Product" asp-action="ProductsByCategory" asp-route-categoryId="@category.Id">@category.Name</a>
            </div>
         }
      </div>
      <div class="products border d-flex flex-wrap col-7 justify-content-start">
         @foreach (Product product in Model.Products)
         {
            <div class="product row d-flex w-100">
               <div class="">@product.ImgUrl</div>
               <div class="">@product.Name</div>
               <div class="d-flex">
                  <div>Цена: @Math.Round((decimal)product.Price, 2)</div>
                  <span>@product.Count</span>
               </div>
            </div>
         }
         <div>
            @for (int i = 1; i < Model.PageInfo.TotalPages+1; i++)
            {
               if (Model.PageInfo.CategoryId != 0)
               {
                  <a class="btn btn-default" asp-controller="Product" asp-action="ProductsByCategory" asp-route-categoryId = "@Model.PageInfo.CategoryId" asp-route-page="@i">@i</a>
               }
               else
               {
                  <a class="btn btn-default" asp-controller="Product" asp-action="Products" asp-route-page="@i">@i</a>

               }
            }

         </div>
      </div>

   </div>

</div>